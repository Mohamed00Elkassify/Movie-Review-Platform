{% extends 'reviewapp/base.html' %}
{% block title %}Your Watchlist | CineReviews{% endblock %}
{% block content %}

<div class="text-center mb-5">
	<h2 class="text-light">
		<i class="fas fa-bookmark text-warning me-3"></i>Your Personal Watchlist
	</h2>
	<p class="text-muted">Movies you want to watch, all in one place</p>
</div>

{% if movies %}
	<div class="row g-4">
		{% for movie in movies %}
			<div class="col-sm-6 col-lg-4 col-xl-3">
				<div class="movie-card h-100">
					<div class="poster-container">
						{% if movie.poster %}
							<img src="{{ movie.poster.url }}" alt="{{ movie.title }}" class="poster-img">
						{% else %}
							<div class="d-flex align-items-center justify-content-center bg-secondary text-muted poster-img">
								<i class="fas fa-film fa-3x"></i>
							</div>
						{% endif %}
						<div class="position-absolute top-0 start-0 m-2">
							<span class="badge bg-danger">
								<i class="fas fa-bookmark me-1"></i>Watchlist
							</span>
						</div>
					</div>
					
					<div class="card-body d-flex flex-column p-3">
						<h6 class="card-title mb-2">
							<a href="{% url 'movie_detail' movie.pk %}" class="movie-title">{{ movie.title }}</a>
						</h6>
						
						<div class="text-muted small mb-3">
							<i class="fas fa-calendar-alt me-1"></i>{{ movie.release_date|date:'Y' }}
						</div>
						
						{% if movie.genres.all %}
						<div class="mb-3">
							{% for genre in movie.genres.all %}
								<span class="genre-tag">{{ genre.name }}</span>
							{% endfor %}
						</div>
						{% endif %}
						
						<div class="mt-auto d-grid gap-2">
							<a href="{% url 'movie_detail' movie.pk %}" class="btn btn-outline-custom">
								<i class="fas fa-eye me-2"></i>View Details
							</a>
							<a href="{% url 'watchlist_toggle' movie.pk %}" class="btn btn-sm watchlist-btn">
								<i class="fas fa-times me-2"></i>Remove from Watchlist
							</a>
						</div>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>
	
	<div class="text-center mt-5">
		<a href="{% url 'movie_list' %}" class="btn btn-custom">
			<i class="fas fa-plus me-2"></i>Discover More Movies
		</a>
	</div>
	
{% else %}
	<div class="text-center py-5">
		<div class="review-card text-center py-5">
			<i class="fas fa-bookmark fa-5x text-muted mb-4"></i>
			<h4 class="text-light mb-3">Your watchlist is empty</h4>
			<p class="text-muted mb-4">Start building your personal collection of movies you want to watch</p>
			<a href="{% url 'movie_list' %}" class="btn btn-custom">
				<i class="fas fa-search me-2"></i>Browse Movies
			</a>
		</div>
	</div>
{% endif %}

{% endblock %}
